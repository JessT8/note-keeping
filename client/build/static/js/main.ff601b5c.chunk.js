(this["webpackJsonpnote-keeping"]=this["webpackJsonpnote-keeping"]||[]).push([[0],{158:function(e,t,a){},159:function(e,t,a){},166:function(e,t,a){e.exports=a.p+"static/media/filterOptionIcon.844d9849.svg"},169:function(e,t,a){e.exports=a(284)},278:function(e,t,a){},280:function(e,t,a){},281:function(e,t,a){},282:function(e,t,a){},284:function(e,t,a){"use strict";a.r(t);var n,r,l,c,o,i,s,u,m=a(0),d=a.n(m),p=a(64),f=a.n(p),b=(a(55),a(70),a(44)),g=a(17),v=a(4),E=a(59),O=a(11),N=a(5),y=a(15),h=a.n(y),j=a(27),w="LOADING",I="ERROR",T=a(46),k=a(20),S=Object(k.gql)(n||(n=Object(T.a)(["\n      query{\n        notes{\n          id,\n          title,\n          description,\n          pin,\n          tags{\n            id,\n            name\n          }\n      }\n  }"]))),x=Object(k.gql)(r||(r=Object(T.a)(["\n   mutation createNote($noteInput:NoteInput!){\n      createNote(\n        noteInput:$noteInput\n        ){\n        id\n    }\n  }\n"]))),C=Object(k.gql)(l||(l=Object(T.a)(["\n   mutation updateNote($id: Float!, $noteInput:NoteInput!){\n      updateNote(id:$id, noteInput:$noteInput){\n        id,\n        description\n      }\n  }\n"]))),_=Object(k.gql)(c||(c=Object(T.a)(["\n   mutation deleteNote($id: Float!){\n      deleteNote(\n        id:$id\n        )}"]))),L=Object(k.gql)(o||(o=Object(T.a)(["\n   mutation addTagsToNote($noteId: Float!, $tagInput: TagInput!){\n      addTagsToNote(\n        noteId:$noteId,\n        tagInput:$tagInput\n        )}"]))),R=Object(k.gql)(i||(i=Object(T.a)(["\n   mutation removeTagFromNote($noteId: Float!, $tagInput: TagInput!){\n      removeTagFromNote(\n        noteId:$noteId,\n        tagInput:$tagInput\n        )}"]))),A=Object(k.gql)(s||(s=Object(T.a)(["\n    mutation SignUp($userInput: UserInput!){\n        signUp(userInput: $userInput)\n  }"]))),D=Object(k.gql)(u||(u=Object(T.a)(["\n    query SignIn($userInput: UserInput!){\n        signIn(userInput: $userInput)\n  }"]))),G=a(168),F=a(165),U=Object(G.a)({uri:Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).SERVER_URI}),B=Object(F.a)((function(e,t){var a=t.headers,n=localStorage.getItem("token");return{headers:Object(v.a)(Object(v.a)({},a),{},{authorization:n?"Bearer ".concat(n):""})}})),M=new k.ApolloClient({link:B.concat(U),cache:new k.InMemoryCache}),$=function(e){return Object(v.a)(Object(v.a)({},e),{},{isLoading:!0,error:""})},z=function(e){var t=[];e.forEach((function(e){t=t.concat(e.tags)}));var a={};return t.sort((function(e,t){var a=e.name,n=t.name;return a.toLowerCase()!==n.toLowerCase()&&(a=a.toLowerCase(),n=n.toLowerCase()),a>n?1:a<n?-1:0})).forEach((function(e){a[e.name]||(a[e.name]=e)})),Object.values(a)},P=a(14),q=a(92),H=a.n(q),K=(a(278),{SIZEOPTIONS:[{label:"Huge",value:"1.73rem",styleName:"tool-label",type:"fontSize"},{label:"Large",value:"1.4rem",styleName:"tool-label",type:"fontSize"},{label:"Normal",value:"1rem",styleName:"tool-label",type:"fontSize"},{label:"Small",value:"0.7rem",styleName:"tool-label",type:"fontSize"}]}),W={HIGHLIGHTOPTIONS:[{label:"\u25c9",value:"#FFAB6A",styleName:"tool-label",type:"highlight"},{label:"\u25c9",value:"#77ECE8",styleName:"tool-label",type:"highlight"},{label:"\u25c9",value:"#69FC00",styleName:"tool-label",type:"highlight"},{label:"\u25c9",value:"#FEE715",styleName:"tool-label",type:"highlight"},{label:"\u25c9",value:"#FFC7BA",styleName:"tool-label",type:"highlight"},{label:"\u25c9",value:"#FFB3FF",styleName:"tool-label",type:"highlight"}]};var J=function(e){var t=e.option.label;return"link"===e.option.label?t=d.a.createElement("span",{className:"link-icon icon"}):"image"===e.option.label?t=d.a.createElement("span",{className:"image-icon icon"}):"unordered-list-item"===e.option.label?t=d.a.createElement("span",{className:"ul-icon icon"}):"text-left"===e.option.label?t=d.a.createElement("span",{className:"textLeft-icon icon"}):"text-center"===e.option.label?t=d.a.createElement("span",{className:"textCenter-icon icon"}):"text-right"===e.option.label?t=d.a.createElement("span",{className:"textRight-icon icon"}):"font-size-dropdown"===e.option.label&&(t=d.a.createElement("span",{className:"fontsize-icon icon"})),d.a.createElement(d.a.Fragment,null,"fontSize"!==e.option.type&&"highlight"!==e.option.type&&d.a.createElement("span",{className:"".concat(e.option.styleName," col"),onMouseDown:function(t){t.preventDefault(),e.onToggle(e.option.value,e.option.type)}},t),"font-size-dropdown"===e.option.label&&d.a.createElement("div",{className:"".concat(e.option.styleName," col dropdown")},d.a.createElement("span",{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},t),d.a.createElement("span",{className:"dropdown-menu scrollable-menu","aria-labelledby":"dropdownMenuButton"},K.SIZEOPTIONS.map((function(t,a){return d.a.createElement("a",{key:a,className:"dropdown-item",style:{fontSize:t.value},href:"//",onClick:function(a){var n,r;a.preventDefault(),n=t.value,r=t.type,e.onToggle(n,r)}},t.label)})))),"highlight-dropdown"===e.option.label&&d.a.createElement("div",{className:"".concat(e.option.styleName," col dropdown")},d.a.createElement("span",{id:"dropdownMenuButton","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},d.a.createElement("i",{className:"fas pt-1"},"\uf591")),d.a.createElement("div",{className:"dropdown-menu scrollable-menu dropdown-color","aria-labelledby":"dropdownMenuButton"},W.HIGHLIGHTOPTIONS.map((function(t,a){return d.a.createElement("span",{key:a,className:"color",style:{color:t.value}},d.a.createElement("a",{className:"dropdown-item-color",style:{color:t.value},href:"//",onClick:function(a){var n,r;a.preventDefault(),n=t.value,r=t.type,e.onToggle(n,r)}},t.label))})))))},Z={OPTIONS:[{label:"font-size-dropdown",value:"",styleName:"tool-label",type:"fontSize"},{label:"U",value:"UNDERLINE",styleName:"tool-label underline",type:"inline"},{label:"B",value:"BOLD",styleName:"tool-label bold",type:"inline"},{label:"I",value:"ITALIC",styleName:"tool-label italic",type:"inline"},{label:"abc",value:"STRIKETHROUGH",styleName:"tool-label strikethrough",type:"inline"},{label:"code",value:"CODE",styleName:"tool-label",type:"inline"},{label:"unordered-list-item",value:"unordered-list-item",styleName:"tool-label",type:"block"},{label:"clear",value:"??",styleName:"tool-label",type:"clear"},{label:"text-left",value:"TEXT-LEFT",styleName:"tool-label",type:"align"},{label:"text-center",value:"TEXT-CENTER",styleName:"tool-label",type:"align"},{label:"text-right",value:"TEXT-RIGHT",styleName:"tool-label",type:"align"},{label:"link",value:"link",styleName:"tool-label",type:"link"},{label:"image",value:"image",styleName:"tool-label",type:"image"},{label:"highlight-dropdown",value:"highlight",styleName:"tool-label",type:"highlight"}]};var V=function(e){return d.a.createElement("div",{className:"textbox-options row no-gutters"},Z.OPTIONS.map((function(t,a){return d.a.createElement(d.a.Fragment,{key:a},d.a.createElement(J,{option:t,onToggle:e.onToggle}))})))};var X=new P.CompositeDecorator([{strategy:function(e,t,a){e.findEntityRanges((function(e){var t=e.getEntity();return null!==t&&"LINK"===a.getEntity(t).getType()}),t)},component:function(e){var t=e.contentState.getEntity(e.entityKey).getData().url;return d.a.createElement("a",{href:t,target:"_blank",rel:"noopener noreferrer"},e.children)}}]),Q=function(e){return e.src?d.a.createElement("div",{className:"center"},d.a.createElement("img",{src:e.src,className:"note-image",alt:e.src})):null},Y=function(e){var t,a=e.contentState.getEntity(e.block.getEntityAt(0)),n=a.getData().src;return"image"===a.getType()&&(t=d.a.createElement(Q,{src:n})),t};var ee=function(e){return"atomic"===e.getType()?{component:Y,editable:!1}:null};a(158);var te=function(e){return d.a.createElement("div",{className:"note--details"},d.a.createElement("div",{className:"overlay"},d.a.createElement("div",{className:"popup"},e.children)))},ae=H()(["font-size","font-style","font-weight","text-decoration","text-align","background-color"]),ne=ae.styles,re=ae.customStyleFn;var le=function(e){var t=Object(m.useState)(!0),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(m.useState)({value:"",completed:!0,toggleModal:!1,action:""}),c=Object(O.a)(l,2),o=c[0],i=c[1],s=Object(m.useState)(P.EditorState.createEmpty()),u=Object(O.a)(s,2),p=u[0],f=u[1],b=Object(m.useState)(null),g=Object(O.a)(b,2),E=g[0],N=g[1],y=Object(m.useRef)(null),h=function(){y.current.focus()},j=function(t){f(t);var a=t.getCurrentContent();e.onChange(JSON.stringify(Object(P.convertToRaw)(a)))};return Object(m.useEffect)((function(){if(e.edit&&n){var t=JSON.parse(JSON.parse(e.description)),a=Object(P.convertFromRaw)(t),l=P.EditorState.createWithContent(a,X);f(l),r(!1)}}),[n,e]),Object(m.useEffect)((function(){if(""!==o.value&&o.completed)if("Add Link"===o.action){var e=P.Entity.create("LINK","MUTABLE",{url:o.value}),t=P.RichUtils.toggleLink(p,E,e);f(t),i(Object(v.a)(Object(v.a)({},o),{},{completed:!1,value:"",action:""}))}else if("Add Image Link"===o.action){var a=p.getCurrentContent().createEntity("image","IMMUTABLE",{src:o.value}),n=a.getLastCreatedEntityKey(),r=P.EditorState.set(p,{currentContent:a},"create-entity");f(P.AtomicBlockUtils.insertAtomicBlock(r,n," ")),i(Object(v.a)(Object(v.a)({},o),{},{completed:!1,value:"",action:"Focus"}))}y.current!==document.activeElement&&"Focus"===o.action&&h()}),[o,p,E]),d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"textbox-container"},d.a.createElement("div",{className:"flex-center container-fluid"},d.a.createElement(V,{editorState:p,onToggle:function(e,t){if("link"===t){var a=p.getSelection();return N(a),void i(Object(v.a)(Object(v.a)({},o),{},{toggleModal:!0,completed:!1,action:"Add Link"}))}if("image"!==t)if("align"!==t)if("fontSize"!==t)if("block"!==t)if("inline"!==t){if("clear"===t){var n=p;return["fontStyle","fontWeight","textDecoration"].forEach((function(e){n=ne[e].remove(n)})),void function(){var e=p.getSelection(),t=p.getCurrentContent(),a=p.getCurrentInlineStyle().reduce((function(t,a){return P.Modifier.removeInlineStyle(t,e,a)}),t),n=P.Modifier.setBlockType(a,e,"unstyled");f(P.EditorState.push(p,n))}()}"highlight"!==t||j(ne.backgroundColor.toggle(p,e))}else j(P.RichUtils.toggleInlineStyle(p,e));else j(P.RichUtils.toggleBlockType(p,e));else j(ne.fontSize.toggle(p,e));else j(P.RichUtils.toggleBlockType(p,e));else i(Object(v.a)(Object(v.a)({},o),{},{toggleModal:!0,completed:!1,action:"Add Image Link"}))}})),d.a.createElement("div",{className:"textbox-editor",onClick:h},d.a.createElement(P.Editor,{editorState:p,onChange:j,placeholder:"Write your notes here...",ref:y,customStyleFn:re,blockStyleFn:function(e){switch(e.getType()){case"TEXT-CENTER":return"align-center";case"TEXT-RIGHT":return"align-right";default:return null}},blockRendererFn:ee,stripPastedStyles:!0,handleKeyCommand:function(e){var t=P.RichUtils.handleKeyCommand(p,e);return t?(j(t),"handled"):"not-handled"}}))),o.toggleModal&&d.a.createElement(te,null,d.a.createElement("button",{className:"close",onClick:function(){i(Object(v.a)(Object(v.a)({},o),{},{value:"",toggleModal:!1,action:""}))}},"\u2715"),d.a.createElement("h3",{className:"text-center pb-3"},o.action),d.a.createElement("div",{className:"form-group "},d.a.createElement("input",{className:"form-control",value:o.value,onChange:function(e){i(Object(v.a)(Object(v.a)({},o),{},{value:e.target.value}))}})),d.a.createElement("button",{className:"btn btn-primary",onClick:function(){i(Object(v.a)(Object(v.a)({},o),{},{completed:!0,toggleModal:!1}))}},"Add Link")))};var ce=function(e){return d.a.createElement("div",{className:"fullscreen-popup"},e.children)};a(159);var oe=function(){return d.a.createElement(d.a.Fragment,null,d.a.createElement("div",{className:"justify-content-center"},d.a.createElement("div",{className:"my-auto"},d.a.createElement("div",{className:"row pt-5 mt-5"},d.a.createElement("div",{className:"col"},d.a.createElement("div",{className:"face mx-auto"},d.a.createElement("div",{className:"eye"}),d.a.createElement("div",{className:"eye right"}),d.a.createElement("div",{className:"mouth sad"})))),d.a.createElement("div",{className:"row  h-75 pt-5"},d.a.createElement("div",{className:"col  justify-content-center"},d.a.createElement("p",{className:"error-font text-center nunito-font"},"Opps...Something went wrong..."))))))},ie=function(e){return function(){var t=Object(j.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"TOGGLE_NOTE",payload:{toggleNote:e,toggleAddTag:""}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},se=function(e){return function(){var t=Object(j.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"TOGGLE_NOTE",payload:{toggleNote:"",toggleAddTag:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ue=function(e){return function(){var t=Object(j.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"TOGGLE_ERROR",payload:{toggleNote:"",toggleAddTag:"",toggleError:e}});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};var me=function(e){var t=Object(N.b)(),a=Object(N.c)((function(e){return e.notes.isLoading})),n=Object(N.c)((function(e){return e.notes.error})),r=Object(N.c)((function(e){return e.toggle.toggleError}));return Object(m.useEffect)((function(){!a&&e.clicked&&(n?t(ue(!0)):(e.edit?e.showEdit():(e.clearValues(),e.close()),t(ue(!1))),e.resetClick())}),[a,n,t,e]),r?d.a.createElement(te,null,d.a.createElement("button",{className:"close",onClick:function(){t(ue(!1))}},"\u2715"),d.a.createElement(oe,null)):d.a.createElement(d.a.Fragment,null)};var de=function(e){var t=Object(m.useState)({id:"",title:"",description:"",pin:!1}),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(m.useState)(!1),c=Object(O.a)(l,2),o=c[0],i=c[1],s=Object(N.b)(),u=Object(m.useRef)(null);return d.a.createElement(ce,null,d.a.createElement("button",{className:"back button-link",onClick:function(){e.close()}},"\u2190"),d.a.createElement("div",{className:"content"},d.a.createElement("form",null,d.a.createElement("div",{className:"form__group_popup mx-auto"},d.a.createElement("input",{id:"title",name:"title",className:"form__field",value:n.title,placeholder:"Title",onChange:function(e){r(Object(v.a)(Object(v.a)({},n),{},{title:e.target.value}))},ref:u,required:"required"}),d.a.createElement("label",{htmlFor:"title",className:"form__label"},"Title")),d.a.createElement("div",{className:" form__group_popup mx-auto"},d.a.createElement(le,{onChange:function(e){r(Object(v.a)(Object(v.a)({},n),{},{description:JSON.stringify(e)}))}})),d.a.createElement("div",{className:"flex-center"},d.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:function(){var e;n.title?(s((e={noteInput:{title:n.title,description:n.description,pin:n.pin}},function(){var t=Object(j.a)(h.a.mark((function t(a){return h.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:w}),M.mutate({mutation:x,variables:e}).then((function(t){a({type:"ADD_NOTE",payload:{note:Object(v.a)(Object(v.a)({id:t.data.createNote.id},e.noteInput),{},{tags:[],pin:!1})}})})).catch((function(){a({type:I,payload:{isLoading:!1,error:"Add note unsuccessful"}})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),i(!0)):u.current.focus()}},"Add")))),d.a.createElement(me,{clicked:o,close:e.close,clearValues:function(){r({title:"",description:""})},resetClick:function(){i(!1)}}))},pe=H()(["font-size","font-style","font-weight","text-decoration","background-color"]).customStyleFn;var fe=function(e){var t=Object(m.useState)(P.EditorState.createEmpty()),a=Object(O.a)(t,2),n=a[0],r=a[1];return Object(m.useEffect)((function(){var t=JSON.parse(JSON.parse(e.description)),a=Object(P.convertFromRaw)(t),n=P.EditorState.createWithContent(a,X);r(n)}),[e.description]),d.a.createElement("div",null,e.format?d.a.createElement(P.Editor,{editorState:n,readOnly:!0,customStyleFn:pe,blockRendererFn:ee,blockStyleFn:function(e){switch(e.getType()){case"TEXT-CENTER":return"align-center";case"TEXT-RIGHT":return"align-right";default:return null}}}):function(){for(var e=Object(P.convertToRaw)(n.getCurrentContent()).blocks.map((function(e){return e.text.trim()?e.text:"\n"})),t="",a=0;a<e.length;a++){var r=e[a];a===e.length-1?t+=r:t+="\n"===r?r:r+"\n"}return t.split("\n")[0].trim()+"..."}())};var be=function(e){var t=Object(N.b)();return d.a.createElement(ce,null,d.a.createElement("button",{className:"back button-link",onClick:function(){e.back()}},"\u2190"),d.a.createElement("div",null,d.a.createElement("div",null,d.a.createElement("div",{className:"d-flex justify-content-center mt-3"},d.a.createElement("h1",null,e.values.title)),d.a.createElement("div",{className:"row"},d.a.createElement("div",{className:"col d-flex justify-content-center mt-"},d.a.createElement("button",{className:"button-link mx-2",onClick:function(){e.showEdit()}},"Edit")," |",d.a.createElement("button",{className:"button-link mx-2",onClick:function(){var a;t((a=e.values.id,function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:w}),M.mutate({mutation:_,variables:{id:parseInt(a)}}).then((function(){t({type:"DELETE_NOTE",payload:{id:a}})})).catch((function(){t({type:I,payload:{error:"delete note unsuccessful"}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},"Delete")))),d.a.createElement("div",{className:"details--description mt-3 mx-auto"},d.a.createElement(fe,{description:e.values.description,format:!0}))))};a(279);var ge=function(e){var t=Object(m.useState)(e.values),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(m.useState)(!1),c=Object(O.a)(l,2),o=c[0],i=c[1],s=Object(N.b)(),u=Object(m.useRef)(null);return d.a.createElement(ce,null,d.a.createElement("div",{className:"mt-5"},d.a.createElement("button",{className:"back button-link",onClick:function(){e.showEdit()}},"\u2190"),d.a.createElement("div",{className:"content"},d.a.createElement("div",{className:"form__group_popup mx-auto"},d.a.createElement("input",{id:"title",name:"title",className:"form__field",value:n.title,placeholder:"Title",ref:u,onChange:function(e){r(Object(v.a)(Object(v.a)({},n),{},{title:e.target.value}))}}),d.a.createElement("label",{htmlFor:"title",className:"form__label nunito-font"},"Title")),d.a.createElement("div",{className:" form__group_popup mx-auto"},d.a.createElement(le,{description:n.description,onChange:function(e){r(Object(v.a)(Object(v.a)({},n),{},{description:JSON.stringify(e)}))},edit:!0})),d.a.createElement("div",{className:"flex-center"},d.a.createElement("button",{className:"btn btn-primary",onClick:function(){var t;n.title?(e.values.title===n.title&&e.values.description===n.description||s((t={variables:{id:parseInt(n.id,10),noteInput:{title:n.title,description:n.description,pin:n.pin}}},function(){var e=Object(j.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:w}),M.mutate({mutation:C,variables:t.variables}).then((function(){var e=t.variables.id.toString();a({type:"UPDATE_NOTE",payload:Object(v.a)({id:e},t.variables.noteInput)})})).catch((function(){a({type:I,payload:{error:"Update unsuccessful"}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),i(!0)):u.current.focus()}},"Save")))),d.a.createElement(me,{clicked:o,close:e.close,clearValues:function(){r({title:"",description:""})},resetClick:function(){i(!1)},showEdit:e.showEdit}))};var ve=function(e){var t=Object(m.useState)(!1),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(N.b)();return d.a.createElement("div",{className:"note--details"},n?d.a.createElement(ge,{showEdit:function(){r(!1)},values:e.values}):d.a.createElement(be,{back:function(){l(ie(""))},values:e.values,showEdit:function(){r(!0)}}))};a(280);var Ee=function(e){var t=Object(m.useState)(""),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(N.b)();return d.a.createElement(te,null,d.a.createElement("button",{className:"close",onClick:function(){l(se(""))}},"\u2715"),d.a.createElement("h3",{className:"text-center"},"Tags"),d.a.createElement("p",{className:"text-center pb-1"},e.values.title),d.a.createElement("div",{className:"form-group "},d.a.createElement("input",{className:"form-control",value:n,onChange:function(e){r(e.target.value)}})),d.a.createElement("button",{className:"btn btn-primary",onClick:function(){var t;n&&(l((t={variables:{tagInput:{name:n},noteId:e.values.id}},function(){var e=Object(j.a)(h.a.mark((function e(a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:w}),n=Object(v.a)(Object(v.a)({},t.variables),{},{noteId:parseInt(t.variables.noteId,10)}),M.mutate({mutation:L,variables:n}).then((function(e){console.log(e),a({type:"ADD_TAG",payload:{id:t.variables.noteId,tag:{name:t.variables.tagInput.name,id:t.variables.noteId}}})})).catch((function(){a({type:I,payload:{isLoading:!1,error:"Add tag unsuccessful"}})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())),r(""))}},"Add Tags"),d.a.createElement("div",{className:"mt-3 d-flex flex-row flex-wrap"},e.tags.map((function(t,a){return d.a.createElement("span",{key:a,className:"badge badge-secondary px-2 py-1 text-truncate mr-1 my-2 "},d.a.createElement("span",null,t.name),d.a.createElement("a",{href:"!#",onClick:function(a){var n;a.preventDefault(),l((n={variables:{tagInput:{name:t.name},noteId:e.values.id}},function(){var e=Object(j.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:w}),a=Object(v.a)(Object(v.a)({},n.variables),{},{noteId:parseInt(n.variables.noteId,10)}),M.mutate({mutation:R,variables:a}).then((function(){t({type:"REMOVE_TAG",payload:{id:n.variables.noteId,name:n.variables.tagInput.name,isLoading:!1}})})).catch((function(){t({type:I,payload:{error:"remove tag unsuccessful",isLoading:!1}})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))},className:"pl-1"},"\u2715"))}))))};a(281);var Oe=function(e){var t=Object(N.b)(),a=Object(N.c)((function(e){return e.toggle.toggleNote})),n=Object(N.c)((function(e){return e.toggle.toggleAddTag}));return d.a.createElement("div",{className:"card border-0 pt-2 col-12 col-md-6 col-lg-4 col-xl-4 "},d.a.createElement("div",{className:"card-body note-label"},d.a.createElement("div",null,d.a.createElement("a",{href:"/",className:"note-label-btn",onClick:function(a){a.preventDefault(),t(ie(e.note.id))}},d.a.createElement("h3",{className:"card-title text-center pt-2"},e.note.title))),d.a.createElement("div",{className:"note-content d-flex flex-row-reverse"},d.a.createElement("a",{href:"!#",onClick:function(a){a.preventDefault(),t(se(e.note.id))}},d.a.createElement("span",{className:"addTagOption addTag-icon"})))),a===e.note.id&&d.a.createElement(ve,{values:e.note}),n===e.note.id&&d.a.createElement(Ee,{tags:e.note.tags,values:e.note}))};var Ne=function(e){var t=e.notes.map((function(e){return d.a.createElement(d.a.Fragment,{key:e.id},d.a.createElement(Oe,{note:e}))}));return d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row"},t))},ye=a(166),he=a.n(ye);a(282);var je=function(e){var t=Object(N.c)((function(e){return e.notes.tags})),a="tag-filter";return""===e.filterTag&&(a="currentTag"),d.a.createElement(d.a.Fragment,null,e.show?d.a.createElement("div",{className:"side-drawer col-3"},d.a.createElement("hr",null),d.a.createElement("a",{href:"\\\\",className:a,onClick:function(t){t.preventDefault(),""!==e.filterTag&&e.filterNotes("")}},d.a.createElement("h4",{className:"ml-3 mb-3"},"All")),d.a.createElement("h4",{className:"ml-3 mb-3"},"Tags"),t.map((function(t,a){var n="tag-filter";return e.filterTag===t.name&&(n="currentTag"),d.a.createElement("a",{key:a,href:"\\\\",className:n,onClick:function(a){a.preventDefault(),e.filterTag!==t.name&&e.filterNotes(t.name)}},d.a.createElement("p",{className:"ml-3 mb-2"},t.name))}))):"")};var we=function(e){var t=Object(m.useState)(!1),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(m.useState)(!1),c=Object(O.a)(l,2),o=c[0],i=c[1],s=Object(m.useState)([]),u=Object(O.a)(s,2),p=u[0],f=u[1],b=Object(m.useState)(""),g=Object(O.a)(b,2),y=g[0],T=g[1],k=Object(m.useState)({value:"",updated:!0}),x=Object(O.a)(k,2),C=x[0],_=x[1],L=Object(N.c)((function(e){return e.notes.notes})),R=Object(N.c)((function(e){return e.notes.isLoading})),A=Object(N.c)((function(e){return e.notes.error})),D=Object(N.b)(),G=Object(m.useCallback)((function(e){var t=C.value,a="Oldest"===t,n="A-Z"===t,r="Z-A"===t;return e.sort((function(e,t){if(n||r){var l=e.title.toUpperCase(),c=t.title.toUpperCase();return r?l>c?-1:l<c?1:0:l<c?-1:l>c?1:0}var o=parseInt(e.id),i=parseInt(t.id);return a?o<i?-1:o>i?1:0:o>i?-1:o<i?1:0}))}),[C.value]);Object(m.useEffect)((function(){D(function(){var e=Object(j.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t({type:w}),M.query({query:S}).then((function(e){var a=z(e.data.notes);t({type:"GET_NOTES",payload:{notes:e.data.notes,tags:a,isLoading:!1}})})).catch((function(){t({type:I,payload:{isLoading:!1,error:"Get note unsuccessful"}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[D]),Object(m.useEffect)((function(){if(!R)if(""!==y){var e=L.filter((function(e){return e.tags.some((function(e){return e.name===y}))}));0!==e.length?f(G(e)):T("")}else f(G(Object(E.a)(L)))}),[y,L,R,G]),Object(m.useEffect)((function(){if(!C.updated){var e=Object(E.a)(p);f(G(e)),_(Object(v.a)(Object(v.a)({},C),{},{updated:!0}))}}),[C,p,G]);var F="col";n&&(F="col-9");var U=p.length?d.a.createElement(Ne,{notes:p}):d.a.createElement("div",{className:"container-fluid w-100 h-100"},d.a.createElement("div",{className:"row h-75 p-5"},d.a.createElement("div",{className:"my-5 p-5 "},d.a.createElement("p",{className:"big-font text-center cinzel-font"},"Currently no notes"))));return d.a.createElement("div",{className:"mt-5"},d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"App-main"},d.a.createElement("header",{className:"pt-5"},d.a.createElement("h1",{className:"nunito-font"},"My notes"),A?"":d.a.createElement("button",{className:"toggleAdd",onClick:function(){i(!0)}},"+")),o&&d.a.createElement(de,{close:function(){return i(!1)}}),d.a.createElement("div",{className:"container"},d.a.createElement("div",{className:"row no-gutters mt-3"},d.a.createElement("div",{className:"gear col-md-3 col-sm-12"},d.a.createElement("button",{className:"gear-btn ml-5",onClick:function(){r(!n)}},d.a.createElement("img",{src:he.a,alt:"gear"}),d.a.createElement("span",{className:"mx-1"},"Filter"))),d.a.createElement("div",{className:"col-md-5 ml-5"},d.a.createElement("label",{className:"mr-3",for:"orderBy-select"},"Order by:"),d.a.createElement("select",{className:"orderBy",id:"orderBy-select",onChange:function(e){_({value:e.target.value,updated:!1})}},d.a.createElement("option",{value:"Default"},"Newest to Oldest"),d.a.createElement("option",{value:"Oldest"},"Oldest to Newest"),d.a.createElement("option",{value:"A-Z"},"A-Z"),d.a.createElement("option",{value:"Z-A"},"Z-A"))))),R||A?A?d.a.createElement(oe,null):"Loading":d.a.createElement("div",{className:"container-fluid"},d.a.createElement("div",{className:"row"},d.a.createElement(je,{show:n,filterNotes:function(e){T(e)},filterTag:y,close:function(){return r(!1)}}),d.a.createElement("div",{className:F},U))))))};var Ie=function(){return d.a.createElement("div",{className:"container-fluid position-fixed h-100 w-100 bg-light"},d.a.createElement("div",{className:"row justify-content-center h-75 fade-in"},d.a.createElement("div",{className:"my-auto"},d.a.createElement("p",{className:"big-font text-center cinzel-font"},"Write your notes!"),d.a.createElement("h4",{className:"text-center"},"A quick and easy way for you to access all your notes"),d.a.createElement("div",{className:"text-right pt-5 started-font"},d.a.createElement("a",{href:"/signin"},"Get Started \u2192")))))};var Te=function(e){var t=Object(m.useState)({username:"",password:""}),a=Object(O.a)(t,2),n=a[0],r=a[1],l=Object(N.c)((function(e){return e.user.signedIn})),c=Object(N.c)((function(e){return e.user.error})),o=Object(N.b)(),i=Object(g.g)();return Object(m.useEffect)((function(){l&&(localStorage.setItem("user",n.username),i.push("/"))}),[l,i,n]),d.a.createElement("div",{className:"container-fluid position-fixed h-100 w-100 bg-light"},d.a.createElement("div",{className:"row h-75 justify-content-center"},d.a.createElement("div",{className:"col-5 rounded border  pt-4 pb-5 pl-5 pr-5 mt-5 bg-white my-auto"},d.a.createElement("form",null,d.a.createElement("div",{className:"text-center mb-4"},d.a.createElement("h2",{className:"nunito-font"},"Sign In")),"SIGNIN_ERROR"===c?d.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Invalid username or password"):"",d.a.createElement("div",{className:"form-group "},d.a.createElement("input",{className:"form-control",id:"username",placeholder:"Username",value:n.username,onChange:function(e){r(Object(v.a)(Object(v.a)({},n),{},{username:e.target.value}))}})),d.a.createElement("div",{className:"form-group"},d.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",value:n.password,autoComplete:"on",onChange:function(e){r(Object(v.a)(Object(v.a)({},n),{},{password:e.target.value}))}})),d.a.createElement("div",{className:"text-right"},d.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){var t;e.preventDefault(),n.username&&n.password&&o((t={variables:{userInput:{username:n.username,password:n.password}}},function(){var e=Object(j.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:w}),M.mutate({mutation:D,variables:t.variables}).then((function(e){localStorage.setItem("token",e.data.signIn),a({type:"SIGN_IN",payload:{user:t.variables.userInput.username,signedIn:!0,error:""}})})).catch((function(){a({type:I,payload:{error:"SIGNIN_ERROR"}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},"Sign in \u2192")),d.a.createElement("hr",null),d.a.createElement("div",{className:"text-center mb-4"},d.a.createElement("p",{className:"text-muted"},"Don't have an account yet? Click ",d.a.createElement("a",{href:"/signup"},"here")," to register"))))))};var ke=function(){var e=Object(m.useState)({username:"",password:""}),t=Object(O.a)(e,2),a=t[0],n=t[1],r=Object(g.g)(),l=Object(N.b)(),c=Object(N.c)((function(e){return e.user.error})),o=Object(N.c)((function(e){return e.user.signedIn}));return Object(m.useEffect)((function(){o&&(localStorage.setItem("user",a.username),r.push("/"))}),[o,r,a.username]),d.a.createElement("div",{className:"container-fluid position-fixed h-100 w-100 bg-light"},d.a.createElement("div",{className:"row h-75 justify-content-center"},d.a.createElement("div",{className:"col-5 rounded border pt-4 pb-5 pl-5 pr-5 mt-5 bg-white my-auto"},d.a.createElement("form",null,d.a.createElement("div",{className:"text-center mb-4"},d.a.createElement("h2",{className:"nunito-font"},"Sign Up")),"SIGNUP_ERROR"===c?d.a.createElement("div",{className:"alert-danger alert ",role:"alert"},"Username is taken"):"",d.a.createElement("div",{className:"form-group"},d.a.createElement("input",{className:"form-control",id:"username",placeholder:"Username",value:a.username,onChange:function(e){n(Object(v.a)(Object(v.a)({},a),{},{username:e.target.value}))}})),d.a.createElement("div",{className:"form-group"},d.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",placeholder:"Password",autoComplete:"off",value:a.password,onChange:function(e){n(Object(v.a)(Object(v.a)({},a),{},{password:e.target.value}))}})),d.a.createElement("div",{className:"text-right"},d.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:function(e){var t;e.preventDefault(),l((t={variables:{userInput:{username:a.username,password:a.password}}},function(){var e=Object(j.a)(h.a.mark((function e(a){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a({type:w}),M.mutate({mutation:A,variables:t.variables}).then((function(e){localStorage.setItem("token",e.data.signUp),a({type:"SIGN_UP",payload:{user:t.variables.userInput.username,error:"",signedIn:!0}})})).catch((function(e){console.log(e),a({type:I,payload:{error:"SIGNUP_ERROR"}})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},"Sign up \u2192")),d.a.createElement("hr",null),d.a.createElement("div",{className:"text-center mb-4"},d.a.createElement("p",{className:"text-muted"},"Already have an account? Click ",d.a.createElement("a",{href:"/signin"},"here")," to sign in"))))))};var Se=function(e){var t=Object(N.b)(),a=Object(g.g)();return d.a.createElement("nav",{className:"fixed-top navbar navbar-expand-lg bg-dark navbar-dark",id:"navBar"},d.a.createElement(b.b,{className:"navbar-brand cinzel-font pl-5",to:"/"},"Notekeeper"),d.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navContent","aria-controls":"navContent","aria-expanded":"false","aria-label":"Toggle navigation"},d.a.createElement("span",{className:"navbar-toggler-icon"})),d.a.createElement("div",{className:"collapse navbar-collapse",id:"navContent"},d.a.createElement("ul",{className:"navbar-nav ml-auto"},d.a.createElement("li",{className:"nav-item ml-3"},d.a.createElement(b.b,{className:"nunito-font navLink text-white",to:"/"},"Home")),d.a.createElement("li",{className:"nav-item ml-3"},localStorage.getItem("token")||e.user?d.a.createElement("button",{className:"button-link navLink nunito-font text-white",onClick:function(){localStorage.clear(),e.client.clearStore(),t((function(e){e({type:"SIGN_OUT",payload:{user:"",loading:!1,signedIn:!1,error:""}})})),a.push("/")}},"Sign Out"):d.a.createElement(b.b,{className:"nunito-font navLink text-white",to:"/signin"},"Sign in")))))};var xe=function(e){var t=Object(k.useApolloClient)(),a=Object(N.c)((function(e){return e.user.user}));return d.a.createElement(b.a,null,d.a.createElement(Se,{user:a,client:t}),d.a.createElement(g.d,null,d.a.createElement(g.b,{exact:!0,path:"/"},localStorage.getItem("token")||a?d.a.createElement(we,{props:e,client:t}):d.a.createElement(Ie,null)),d.a.createElement(g.b,{exact:!0,path:"/signin"},localStorage.getItem("token")?d.a.createElement(g.a,{exact:!0,from:"/signin",to:"/"}):d.a.createElement(Te,null)),d.a.createElement(g.b,{exact:!0,path:"/signup"},localStorage.getItem("token")?d.a.createElement(g.a,{exact:!0,from:"/signup",to:"/"}):d.a.createElement(ke,null))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Ce=a(53),_e=a(167),Le=a(37),Re={notes:[],isLoading:!0,error:"",tags:[]};var Ae={toggleNote:"",toggleAddTag:"",toggleError:!1};var De={user:"",loading:"",signedIn:!1,error:""};var Ge=Object(Ce.c)({notes:function(){var e,t,a,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Re,l=arguments.length>1?arguments[1]:void 0;switch(l.type){case w:return $(r);case"GET_NOTES":return Object(v.a)({},r=l.payload);case"ADD_NOTE":return Object(v.a)(Object(v.a)({},r),{},{notes:[l.payload.note].concat(Object(E.a)(r.notes)),isLoading:!1,error:""});case"UPDATE_NOTE":return e=r.notes.map((function(e){var t,a;return e.id===l.payload.id?(a=t=l.payload,Object(Le.a)(a),e=Object.assign({},t),t):e})),Object(v.a)(Object(v.a)({},r),{},{notes:e,isLoading:!1});case"DELETE_NOTE":return e=r.notes.filter((function(e){return e.id!==l.payload.id})),Object(v.a)(Object(v.a)({},r),{},{tags:z(e),notes:e,isLoading:!1,error:""});case"REMOVE_TAG":t=r.notes.find((function(e){return e.id===l.payload.id}));var c=0;return e=r.notes.map((function(e){if(e.tags.some((function(e){return e.name===l.payload.name}))&&(c+=1),e.id===t.id){var a=Object(v.a)({},e);return a.tags=a.tags.filter((function(e){return e.name!==l.payload.name})),a}return e})),n=c<=1?r.tags.filter((function(e){return e.name!==l.payload.name})):r.tags,Object(v.a)(Object(v.a)({},r),{},{notes:e,tags:n,isLoading:!1,error:""});case"ADD_TAG":return t=r.notes.find((function(e){return e.id===l.payload.id})),a=!1,e=r.notes.map((function(e){if(e.tags.indexOf(l.payload.tag)&&(a=!0),e.id===t.id){var n=Object(v.a)({},e);return n.tags=[].concat(Object(E.a)(n.tags),[l.payload.tag]),n}return e})),n=a?z(e):r.tags,Object(v.a)(Object(v.a)({},r),{},{notes:e,tags:n,isLoading:!1,error:""});case I:return Object(v.a)({},r=l.payload);default:return r}},toggle:function(){var e,t,a,n,r,l,c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,o=arguments.length>1?arguments[1]:void 0;switch(o.type){case"TOGGLE_NOTE":return t=e=o.payload,Object(Le.a)(t),c=Object.assign({},e),e;case"TOGGLE_ADD_TAG":return n=a=o.payload,Object(Le.a)(n),c=Object.assign({},a),a;case"TOGGLE_ERROR":return l=r=o.payload,Object(Le.a)(l),c=Object.assign({},r),r;default:return c}},user:function(){var e,t,a,n,r,l,c,o,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:De,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case w:return Object(v.a)(Object(v.a)({},i),{},{loading:!1,signinError:""});case"SIGN_IN":return t=e=s.payload,Object(Le.a)(t),i=Object.assign({},e),e;case"SIGN_UP":return n=a=s.payload,Object(Le.a)(n),i=Object.assign({},a),a;case"SIGN_OUT":return l=r=s.payload,Object(Le.a)(l),i=Object.assign({},r),r;case I:return o=c=s.payload,Object(Le.a)(o),i=Object.assign({},c),c;default:return i}}}),Fe=Object(Ce.d)(Ge,Object(Ce.a)(_e.a));f.a.render(d.a.createElement(d.a.StrictMode,null,d.a.createElement(k.ApolloProvider,{client:M},d.a.createElement(N.a,{store:Fe},d.a.createElement(xe,null)))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},55:function(e,t,a){},70:function(e,t,a){}},[[169,1,2]]]);
//# sourceMappingURL=main.ff601b5c.chunk.js.map